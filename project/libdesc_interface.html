<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>スクリプト言語 (Python、Scilab、Matlab) とのインタフェース &mdash; GetFEM++</title>
    
    <link rel="stylesheet" href="../static/getfem.css" type="text/css" />
    <link rel="stylesheet" href="../static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '5.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="../static/jquery.js"></script>
    <script type="text/javascript" src="../static/underscore.js"></script>
    <script type="text/javascript" src="../static/doctools.js"></script>
    <script type="text/javascript" src="../static/translations.js"></script>
    <link rel="shortcut icon" href="../static/favicon.ico"/>
    <link rel="author" title="このドキュメントについて" href="../about.html" />
    <link rel="copyright" title="著作権" href="../copyright.html" />
    <link rel="top" title="GetFEM++" href="../index.html" />
    <link rel="up" title="ライブラリのさまざまな部分の説明" href="libdesc.html" />
    <link rel="next" title="付録A.参照要素と実要素の基本的な計算" href="appendixA.html" />
    <link rel="prev" title="継続モジュール" href="libdesc_cont.html" />
    <link rel="shortcut icon" type="image/png" href="../static/icon.png" />
 

  </head>
  <body>
    <div class="related">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="総合索引"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="appendixA.html" title="付録A.参照要素と実要素の基本的な計算"
             accesskey="N">次へ</a> |</li>
        <li class="right" >
          <a href="libdesc_cont.html" title="継続モジュール"
             accesskey="P">前へ</a> |</li>
        <li><a href="https://savannah.nongnu.org/projects/getfem" <img src="../static/icon.png" alt=""
                 style="vertical-align: middle; margin-top: -1px"/></li></a>
        <li><a href="../index.html">GetFEM++</a> &raquo;</li>

          <li><a href="index.html" >$B%W%m%8%&#8217;%/%H$N&#64;bL&#64;(B</a> &raquo;</li>
          <li><a href="libdesc.html" accesskey="U">ライブラリのさまざまな部分の説明</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="interface-with-scripts-languages-python-scilab-and-matlab">
<span id="dp-libdesc-interface"></span><h1>スクリプト言語 (Python、Scilab、Matlab) とのインタフェース<a class="headerlink" href="#interface-with-scripts-languages-python-scilab-and-matlab" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p><em>GetFEM++</em> の簡略化された (むしろ完全な) インターフェイスは、いくつかのスクリプト言語で getfem を使用することができるように提供されています。</p>
<div class="section" id="description">
<h2>説明<a class="headerlink" href="#description" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>すべてのソースは <tt class="file docutils literal"><span class="pre">interface/src</span></tt> ディレクトリにあります。インターフェイスは、1つの大規模なライブラリ <tt class="docutils literal"><span class="pre">getfemint</span></tt> (getfem 相互作用の略) で構成され、その上の層として機能する <em>GetFEM++</em> ライブラリ、および python、matlab と scilab のインターフェイスによって使用されます。</p>
<p>このインターフェイスは、c++ ソースから自動的に生成されるものではありません (ガブガブなどのツールの場合もあります)。それは getfem に簡素化され、一貫性のあるインターフェイスとして設計されているものです。新しい言語を追加することは非常に簡単です (言語が密な配列操作のための構造を提供すると仮定して)。</p>
</div>
<div class="section" id="files">
<h2>ファイル<a class="headerlink" href="#files" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>ディレクトリ内のすべてのファイル: ファイル: &#8216; interfacesrc &#8216;。メインファイルの簡単な説明:</p>
<ul>
<li><p class="first">: ファイル: &#8216; getfem_interface &#8216;。</p>
<p>これは、スクリプト言語と getfem インターフェイスの間のブリッジです。関数 getfem_interface_main は &#8216; &#8216; extern &#8216; c &#8216; &#8216; &#8216; 関数としてエクスポートされるため、これはスクリプト言語と getfem インターフェイスの間の c++ バリアの一種です (c インターフェイスのみをエクスポートすると、多くのコンパイルの問題が回避されます)。</p>
</li>
<li><p class="first">: ファイル: &#8216; matlab の/gfm_mex &#8216;。</p>
<p>matlab インターフェイス。それは getfem について知っている唯一のものである: ファイル: &#8216; getfem_interface &#8216;。</p>
</li>
<li><p class="first">: ファイル: &#8216; python/getfem_python &#8216;.</p>
<p>python インターフェイス。それは getfem について知っている唯一のものである: ファイル: &#8216; getfem_interface &#8216;。</p>
</li>
<li><p class="first">: ファイル: &#8216; gfi_array &#8216;,: ファイル: &#8216; gfi_array &#8216;.</p>
<p>どちらも: ファイル: &#8216; gfm_mex &#8216; と: ファイル: &#8216; getfem_python &#8216; は &#8216; &#8216; getfem_interface_main () &#8216; &#8216; から配列とオブジェクトハンドルを送受信する方法に関する簡単な規則を必要とします。このファイルはこのような機能を提供します。</p>
</li>
<li><p class="first">: ファイル: &#8216; getfemint_gsparse &#8216;,: ファイル: &#8216; getfemint_precond &#8216;, など.</p>
<p>必要に応じて、インタフェースオブジェクトに固有のファイル。(getfemint_gsparse は、異なる種類のストレージを切り替えることができるいくつかの種類の可変疎行列をエクスポートし、複雑な要素の実数) を出力します。</p>
</li>
<li><p class="first">: ファイル: &#8216; gf_workspace &#8216;,: ファイル: &#8216; gf_delete &#8216;.</p>
<p>getfem オブジェクトのメモリ管理。たとえば &#8216; &#8216; メッシュ &#8216; &#8216; と &#8216; &#8216; mesh_fem &#8216; &#8216; の間の依存関係を処理するレイヤがあります。それを使用して別の getfem_object がまだある間、オブジェクトが破棄されることを確認します。目的は、ユーザーが getfem インターフェイスに不正な引数を渡すことによって getfem (およびホストプログラム、matlab、scilab または python) をクラッシュさせることができない状況下でことを確認することです。</p>
<p>また、(matlab は &#8220;オブジェクトのデストラクタ&#8221; を持っていないので) matlab で多くの getfem オブジェクトの処理とクリーニングを簡素化するように設計されたワークスペースのスタックの種類を提供しています。</p>
</li>
<li><p class="first">: ファイル: &#8216; getfemint &#8216;,: ファイル: &#8216; getfemint &#8216;.</p>
<p>入力と出力の引数のリストを getfem インターフェイス関数に解析するために使用される &#8216; &#8216; mexarg_in &#8216; &#8216;、&#8217; &#8216; mexarg_out &#8216; &#8216; クラスを定義します。&#8221;mex&#8221; への参照が移されたので、名前はもう十分ではありません: ファイル: &#8216; gfm_mex &#8216;。</p>
</li>
<li><p class="first">: ファイル: &#8216; gf_mesh &#8216;,: ファイル: &#8216; gf_mesh_get &#8216;,: ファイル: &#8216; gf_mesh_set &#8216;,: ファイル: &#8216; gf_fem cc &#8216;, など.</p>
<p>エクスポートされるすべての関数は、オブジェクトの種類 (&#8216; &#8216; gf_mesh * &#8216; &#8216;、&#8217; で並べ替えられた getfem インターフェイスになります。 &#8216; gf_mesh_fem * &#8216;、&#8217; &#8216; gf_fem * &#8216; &#8216;)、オブジェクトの構築 (&#8216; &#8216; gf_mesh &#8216; &#8216;)、オブジェクトの変更 (&#8216; &#8216; gf_mesh_set &#8216; &#8216;) の1つとして編成され、オブジェクトの照会 (&#8216; &#8216; gf_mesh_get &#8216; &#8216;)。これらの各ファイルには、引数の &#8216; &#8216; mexargs_in &#8216; &#8216; と &#8216; &#8216; mexargs_out &#8216; &#8216; スタックを受け取る1つの main 関数が含まれています。その後、解析し、通常、最初の引数を subfunction の名前として解釈します (&#8216; &#8216; gf_mesh_get (&#8216; nbpts &#8216;) &#8216; &#8216; matlab で、または &#8216; &#8216; メッシュ nbpts () &#8216; &#8216; python で)。</p>
</li>
<li><p class="first">: ファイル: &#8216; matlab の/gfm_rpx_mexint &#8216;。</p>
<p>代替: ファイル: &#8216; &#8216;&#8211;有効-matlab-rpc &#8216; &#8216; が &#8216; &#8216;/configure &#8216; &#8216; スクリプトに渡されるときに使用される &#8216; gfm_mex &#8216;。そのための主な用途は、その場合には、matlab のインターフェイスは、&#8221;getfem_server&#8221; プログラムでソケットを介して通信するので、そのサーバープログラムをデバッグすることが可能であり、メモリリークまたは何かを混乱させることなく識別するインターフェイスをデバッグしているmatlab (デバッグするのは苦痛です)。</p>
</li>
<li><p class="first">: ファイル: &#8216; python/getfem &#8216;。</p>
<p>python インタフェースは、python スクリプトによってコンパイル中に生成される &#8221;: file: &#8216; getfem &#8216;&#8221; ファイルとして利用可能です: ファイル: &#8216; bin/extract_doc &#8216; &#8220;。</p>
</li>
</ul>
</div>
<div class="section" id="objects-methods-and-functions-of-the-interface">
<h2>インターフェイスのオブジェクト、メソッド、および関数<a class="headerlink" href="#objects-methods-and-functions-of-the-interface" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>インターフェイスによって操作される主な概念は、オブジェクトの限られた数 (Fem、メッシュ、MeshFem、モデル...)、関連するメソッド、およびこれらのオブジェクトで定義されている関数です。</p>
<p>特別な努力は、各 partsupported スクリプト言語 (Python、Scilab、Matlab) の separetaly を行うことなく、インターフェイスに新しいオブジェクト、メソッド、および関数の追加を容易にするために行われています。</p>
<p>さまざまなオブジェクト、メソッド、および関数のインターフェイスを構築するために必要なすべての情報は、ファイルのインターフェイス/src/gf <a href="#id1"><span class="problematic" id="id2">*</span></a>. cc &#8216; に含まれています。python スクリプト (&#8216; bin/extract_doc &#8216;) は、必要なすべてのファイルをそこで取得する情報から生成します。特に、それは python ファイル getfem.py を生成する、matlab の m-ファイルの異なる機能やオブジェクト (サブディレクトリを含む) と、それはまた、自動ドキュメンテーションを生成します。</p>
<p>すべてのものを自動的に動作させるには、一定数のルールを尊重する必要があります。</p>
<ul>
<li><p class="first">オブジェクトは、インターフェイス上の3つのファイルで定義する必要があります。</p>
<ul class="simple">
<li><p class="first">: ファイル: &#8216; gf_objectname &#8216;: オブジェクトのコンストラクタが含まれています。</p>
</li>
<li><p class="first">: ファイル: &#8216; gf_objectname_get &#8216;: オブジェクトに関する情報を取得するメソッドが含まれています (存在する場合)。</p>
</li>
<li><p class="first">: ファイル: &#8216; gf_objectname_set &#8216;: オブジェクトを変換するメソッドが含まれています (存在する場合)。</p>
</li>
</ul>
</li>
<li><p class="first">関数のリストは1つのファイルによって定義されます: ファイル: &#8216; gf_commandname &#8216; サブ comands のリストが含まれています。</p>
</li>
<li><p class="first">各ファイルについて、関数またはメソッドのリストに関する主な解説は、タグ &#8216;/* &#64;GFDOC &#8216; および &#8216; &#64; <a href="#id1"><span class="problematic" id="id2">*</span></a>/&#8217; で区切られています。オブジェクトのコンストラクタに対応するファイルの場合、注釈はオブジェクトの説明に対応している必要があります。</p>
</li>
<li><p class="first">各非自明ファイル <a href="#id1"><span class="problematic" id="id2">gf_</span></a> <a href="#id1"><span class="problematic" id="id2">*</span></a>. cc には、オブジェクトまたはサブコマンドのメソッドを定義できるマクロが含まれています。特に、このシステムは、呼び出されたメソッド/関数の効率的な検索をすることができます。このマクロでは、次の構文を使用して新しいメソッド/関数を宣言できます。</p>
<div class="highlight-c++"><div class="highlight"><pre><span class="cm">/*@GET val = (&#39;method-name&#39;, params, ...)</span>
<span class="cm">   Documention of the method/function.</span>
<span class="cm">@*/</span>
<span class="n">sub_command</span>
<span class="p">(</span><span class="s">&quot;method-name&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
  <span class="p">...</span>
  <span class="n">body</span> <span class="n">of</span> <span class="n">the</span> <span class="n">method</span><span class="o">/</span><span class="n">function</span>
  <span class="p">...</span>
<span class="p">);</span>
</pre></div>
</div>
<p>最初の3行は、特別な構文を持つメソッド/関数の呼び出しを記述し、また、ドキュメントに含まれるメソッド/関数の説明を与える c++ の解説です。それは Python、Matlab と Scilab のための適切なインターフェイスを生成するために分析されるため、この解説の最初の行は重要です。</p>
<p>メソッド/関数の呼び出しの説明の構文は次のとおりです。 &#8216; &#8216;/* &#64; &#8216; &#8216; の後には、特別なキーワードが存在する必要があります。これは、&#8217; &#8216; INIT &#8216; &#8216;、&#8217; &#8216; GET &#8216; &#8216;、&#8217; &#8216; SET &#8216; &#8216;、&#8217; &#8216; RDATTR &#8216; &#8216;、または &#8216; &#8216; FUNC &#8216; &#8216; のいずれかです。キーワード &#8216; &#8216; INIT &#8216; &#8216; は、これがオブジェクトのコンストラクタの記述であることを意味します。&#8217; &#8216; RDATTR &#8216; &#8216; は、オブジェクトの attribut を得ることを可能にする短いメソッドのためのものです。&#8217; &#8216; GET &#8216; &#8216; は、それを変更しないオブジェクトのメソッドのためのものです。&#8217; &#8216; SET &#8216; &#8216; は、オブジェクトを変更するメソッドのためのもので、&#8217; &#8216; FUNC &#8216; &#8216; は関数リストのサブコマンドのためのものです。</p>
<p>メソッド/関数が値を返す場合は、戻り値の名前 (任意です) に続いて &#8216; &#8216; = &#8216; &#8216; が返されます。</p>
<p>メソッド/関数のパラメータについて説明します。メソッドの場合、オブジェクト自体は mentionned ではありません。最初のパラメーターは、単一引用符の間のメソッドまたはサブコマンド名である必要があります (speical の場合は、この名前がドットで始まる場合です。これは、コマンド名が不要なメソッド/関数に対応することを意味します)。</p>
<p>その他のパラメーターがある場合は、型を使用して宣言する必要があります。定義済みの型は次のとおりです。</p>
<blockquote>
<div><ul class="simple">
<li><p class="first">&#8216; &#8216; &#64;CELL &#8216; &#8216;: セル配列、</p>
</li>
<li><p class="first">&#8216; &#8216; &#64;imat &#8216; &#8216;: 整数の行列、</p>
</li>
<li><p class="first">&#8216; &#8216; &#64;ivec &#8216; &#8216;: 整数のベクトル,</p>
</li>
<li><p class="first">&#8216; &#8216; &#64;cvec &#8216; &#8216;: 複素値のベクトル,</p>
</li>
<li><p class="first">&#8216; &#8216; &#64;dcvec &#8216; &#8216;: 複素値のベクトル,</p>
</li>
<li><p class="first">&#8216; &#8216; &#64;dvec &#8216; &#8216;: 実数値のベクトル,</p>
</li>
<li><p class="first">&#8216; &#8216; &#64;vec &#8216; &#8216;: 実数または複素数のベクトル,</p>
</li>
<li><p class="first">&#8216; &#8216; &#64;dmat &#8216; &#8216;: 実数値の行列,</p>
</li>
<li><p class="first">&#8216; &#8216; &#64;mat &#8216; &#8216;: 実数または複素数の行列,</p>
</li>
<li><p class="first">&#8216; &#8216; &#64;str &#8216; &#8216;: 文字列、</p>
</li>
<li><p class="first">&#8216; &#8216; &#64;int &#8216; &#8216;: 整数、</p>
</li>
<li><p class="first">&#8216; &#8216; &#64;bool &#8216; &#8216;: ブール型 (boolean)、</p>
</li>
<li><p class="first">&#8216; &#8216; &#64;real &#8216; &#8216;: 実際の値、</p>
</li>
<li><p class="first">&#8216; &#8216; &#64;scalar &#8216; &#8216;: 実数または複素数を指定します。</p>
</li>
<li><p class="first">&#8216; &#8216; &#64;list &#8216; &#8216;: リスト。</p>
</li>
</ul>
</div></blockquote>
<p>さらに、&#8217; &#8216; &#64;tobj &#8216; &#8216; はインタフェースによって定義されたオブジェクトを参照します。たとえば、ou は &#8216; &#8216; &#64;tmesh &#8216; &#8216;、&#8217; &#8216; &#64;tmesh_fem &#8216; &#8216;、&#8217; &#8216; &#64;tfem &#8216; &#8216; などを参照できます。いくつかの承認された abreviations があります:</p>
<blockquote>
<div><ul class="simple">
<li><p class="first">&#8216; &#8216; &#64;tcont_struct &#8216; &#8216; の &#8216; &#8216; &#64;tcs &#8216; &#8216;</p>
</li>
<li><p class="first">&#8216; &#8216; &#64;tmesh_fem &#8216; &#8216; の &#8216; &#8216; &#64;tmf &#8216; &#8216;</p>
</li>
<li><p class="first">&#8216; &#8216; &#64;tgeotrans &#8216; &#8216; の &#8216; &#8216; &#64;tgt &#8216; &#8216;</p>
</li>
<li><p class="first">&#8216; &#8216; &#64;tglobal_function &#8216; &#8216; の &#8216; &#8216; &#64;tgf &#8216; &#8216;</p>
</li>
<li><p class="first">&#8216; &#8216; &#64;tmesher_object &#8216; &#8216; の &#8216; &#8216; &#64;tmo &#8216; &#8216;</p>
</li>
<li><p class="first">&#8216; &#8216; &#64;tmesh_levelset &#8216; &#8216; の &#8216; &#8216; &#64;tmls &#8216; &#8216;</p>
</li>
<li><p class="first">&#8216; &#8216; &#64;tmesh_im &#8216; &#8216; の &#8216; &#8216; &#64;tmim &#8216; &#8216;</p>
</li>
<li><p class="first">&#8216; &#8216; &#64;tlevelset &#8216; &#8216; の &#8216; &#8216; &#64;tls &#8216; &#8216;</p>
</li>
<li><p class="first">&#8216; &#8216; &#64;tslice &#8216; &#8216; の &#8216; &#8216; &#64;tsl &#8216; &#8216;</p>
</li>
<li><p class="first">&#8216; &#8216; &#64;tspmat &#8216; &#8216; の &#8216; &#8216; &#64;tsp &#8216; &#8216;</p>
</li>
<li><p class="first">&#8216; &#8216; &#64;tprecond &#8216; &#8216; の &#8216; &#8216; &#64;tpre &#8216; &#8216;</p>
</li>
</ul>
</div></blockquote>
<p>パラメータリスト (&#8216; &#8216;... &#8216; &#8216;) の末尾にある3つの点は、追加のパラメータが可能であることを意味します。省略可能なパラメーターは、角かっこで記述できます。たとえば、&#8217;/* &#64;SET v = (&#8216; name &#8216; [, &#64;int i]) &#8216; &#8216; です。しかし、python インターフェイスを構築するには、: file: &#8216; extract_doc &#8216; スクリプトによってどのように解釈されるかを carreful してください。</p>
<p>マクロの 2 ~ 5 番目のパラメーターは、入力引数の最小数、最大値、出力引数の最小数、および出力引数の最大数にそれぞれ対応しています。動的に検証されます。</p>
<p>関数リストの追加パラメータ...。</p>
<p>不明な理由から、関数の本体には、&#8217; &#8216; int a、b; &#8216; &#8216; などの複数の宣言を含めることはできません (c++ はマクロの追加パラメーターであると考えています)。</p>
</li>
</ul>
<ul>
<li><p class="first">c++ の解説に含まれているドキュメントの部分は、&#8217; reStructuredText&#8217;_ 形式である必要があります。特に、数学の数式は : 数学 : &#8216; f (x) = 3x ^ 2 + 2x + 4 &#8216; に含めることができます:</p>
<div class="highlight-c++"><div class="highlight"><pre><span class="p">..</span> <span class="n">math</span><span class="o">::</span>

  <span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">=</span> <span class="mi">3</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="mi">2</span><span class="n">x</span><span class="o">+</span><span class="mi">4</span>
</pre></div>
</div>
<p>&#8216; &#8216; INIT:: OBJNAME (&#8216; メソッド名 &#8216;,...) を使用して、インターフェイスの別のメソッドまたは関数を参照することができます。&#8217; &#8216;, &#8216; &#8216; GET:: OBJNAME (&#8216; メソッド名 &#8216;,...)&#8217; &#8216;, &#8216; &#8216; SET:: OBJNAME (&#8216; メソッド名 &#8216;,...)&#8217; &#8216;, &#8216; &#8216; FUNC:: FUNCNAME (&#8216; サブコマンド名 &#8216;,...)``.これは言語 (Matlab、Scilab または Python) に応じて正しい構文に置き換えられます。</p>
</li>
<li><p class="first">まだドキュメンテーションでは、特定の言語のための部品は &#8216; &#8216; &#64;MATLAB {特定の部分によって加えることができる...}&#8217; &#8216;、&#8217; &#8216; &#64;SCILAB {特定の部分...}&#8217; &#8216; および &#8216; &#8216; &#64;PYTHON {特定の部分...}``.メソッド/サブコマンドがインタフェースに固有である場合、例えば Matlab のために、&#8217; GET &#8216; を &#8216; MATLABGET &#8216;、&#8217; FUNC &#8216; で &#8216; MATLABFUNC &#8216; などで置き換えることができます。この追加機能に特定のコードが必要な場合は、タグ &#8216;/* &#64;MATLABEXT &#8216; &#8216;、&#8217;/* &#64;SCILABEXT &#8216; &#8216;、&#8217;/* &#64;PYTHONEXT &#8216; &#8216; で追加することができます。たとえば、ファイル: &#8216; gf_mesh_fem_get &#8216; を参照してください。</p>
</li>
<li><p class="first">Python と Matlab オブジェクトの場合、&#8217; set &#8216; メソッドの名前が &#8216; GET &#8216; メソッドと同じである場合、&#8217; set &#8216; メソッドの先頭に &#8216; <a href="#id3"><span class="problematic" id="id4">set_</span></a> &#8216; が付きます。</p>
</li>
</ul>
</div>
<div class="section" id="adding-a-new-function-or-object-method-to-the-getfem-interface">
<h2>getfem インターフェイスへの新しい関数またはオブジェクトメソッドの追加<a class="headerlink" href="#adding-a-new-function-or-object-method-to-the-getfem-interface" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>新しい関数 &#8216; &#8216; gf_mesh_get を追加したい場合 (m, &#8220;foobar&#8221;,.)&#8217; &#8216;, 次に、変更するメインファイルは: ファイル: &#8216; gf_mesh_get &#8216;.ユーザーがその関数を使用するときに scilab、matlab または python をクラッシュさせることができないようにするために、関数に渡されるすべての引数をチェックしてください。関数を追加するには、ファイル: &#8216; gf_mesh_get &#8216; で定義されているマクロを使用します。</p>
<p>その関数のドキュメントを追加することを忘れないでください: in: file: &#8216; gf_mesh_get &#8216;, これは、matlab/scilab/python のヘルプファイルに表示されるドキュメントです (それはタイプであるときに &#8216; &#8216; ヘルプ gf_mesh_get &#8216; &#8216; &#8220;matlab のプロンプトで), と getfem_python で自動生成ドキュメント。</p>
<p>大事な。配列のインデックスは、Python では0から始まり、Matlab と Scilab では1であることに注意してください。特定の関数:</p>
<div class="highlight-c++"><div class="highlight"><pre><span class="n">config</span><span class="o">::</span><span class="n">base_index</span><span class="p">()</span>
</pre></div>
</div>
<p>値が python では0、Matlab では1、Scilab はインデックスとインデックスの配列を交換するために使用されなければなりません。2度と矯正をしないように気をつけて。インデックスのいくつかの配列は自動的にシフトされます。</p>
</div>
<div class="section" id="adding-a-new-object-to-the-getfem-interface">
<h2>getfem インターフェイスへの新しいオブジェクトの追加<a class="headerlink" href="#adding-a-new-object-to-the-getfem-interface" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>インターフェイスに新しいオブジェクトを追加するには、新しい対応するソースを構築する必要があります: ファイル: &#8216; gf_obj &#8216;、: ファイル: &#8216; gf_obj_get &#8216; と: ファイル: &#8216; gf_obj_set &#8216;。もちろん、モデルとして、既存のものを取ることができます。</p>
<p>オブジェクトの管理については、次のようにクラスを宣言する必要があります: ファイル: &#8216; getfemint &#8216; (アルファベット順に関して)、3つの関数を宣言:</p>
<div class="highlight-c++"><div class="highlight"><pre><span class="kt">bool</span> <span class="n">is_</span><span class="s">&quot;name&quot;</span><span class="n">_object</span><span class="p">(</span><span class="k">const</span> <span class="n">mexarg_in</span> <span class="o">&amp;</span><span class="n">p</span><span class="p">);</span>
<span class="n">id_type</span> <span class="n">store_</span><span class="s">&quot;name&quot;</span><span class="n">_object</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">object_class</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">shp</span><span class="p">);</span>
<span class="n">object_class</span> <span class="o">*</span><span class="n">to_</span><span class="s">&quot;name&quot;</span><span class="n">_object</span><span class="p">(</span><span class="k">const</span> <span class="n">mexarg_in</span> <span class="o">&amp;</span><span class="n">p</span><span class="p">);</span>
</pre></div>
</div>
<p>ここで、&#8221;name&#8221; はインターフェイス内のオブジェクトの名前であり、&#8217; &#8216; object_class &#8216; &#8216; は getfem のクラス名です (たとえば、メッシュオブジェクトの場合は &#8216; &#8216; getfem:: mesh &#8216; &#8216;)。または、| gf | で共有ポインタによって操作されるオブジェクトの場合、3番目の関数は共有ポインタを返すことができます。</p>
<p>重要: インタフェースするために、a | gf <a href="#id1"><span class="problematic" id="id2">|</span></a>オブジェクトは &#8216; &#8216; dal:: static_stored_object &#8216; &#8216; から派生しなければなりません。ただし、そうでない場合は、ラッパークラスを &#8216; &#8216; bgeot:: base_poly &#8216; &#8216; のように定義できます (ファイル: &#8216; getfemint &#8216; の末尾を参照してください)。</p>
<p>前の3つの関数は、ファイル: &#8216; getfemint &#8216; の末尾に実装する必要があります。ファイル: &#8216; getfemint &#8216; で定義されている2つのマクロのいずれかを使用することができます。もみのマクロは標準的な目的のためであり、で操作される目的のための二番目のものは | gf <a href="#id1"><span class="problematic" id="id2">|</span></a>共有ポインタを使用します。</p>
<p>また、&#8217; &#8216; name_of_getfemint_class_id &#8216; &#8216; と &#8216; &#8216; class_id_of_object &#8216; &#8216; の最後には、&#8217; getfemint &#8216; という関数を完成させる必要があります。</p>
<p>あなたは、インターフェイス関数の呼び出しを追加する必要があります: ファイル: &#8216; getfem_interface &#8216; と変更ファイル: ファイル: &#8216; bin/extract_doc &#8216; と構成ファイルを実行します。</p>
<p>The methods <tt class="docutils literal"><span class="pre">get('char')</span></tt> and <tt class="docutils literal"><span class="pre">get('display')</span></tt> should be defined for each object. The first one should give a string allowing the object to be saved in a file and the second one is to give some information about the object. Additionaly, a constructor from a string is necessary to load the object from a file.</p>
<p>Scilab インターフェイスのためにファイル: ファイル: &#8216; sci_gateway/c/builder_gateway_c. in &#8216; は、ディレクトリ内のファイルを変更することがあります: ファイル: &#8216; マクロ/オーバーロード &#8216;。</p>
</div>
<div class="section" id="state">
<h2>状態<a class="headerlink" href="#state" title="このヘッドラインへのパーマリンク">¶</a></h2>
</div>
<div class="section" id="perspectives">
<h2>視点<a class="headerlink" href="#perspectives" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>インターフェイスは | gf | と連動して成長します。メイン | gf <a href="#id1"><span class="problematic" id="id2">|</span></a>機能はインタフェースされます。</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <p class="logo"><a href="../index.html">
    <img class="logo" src="../static/logo_getfem_small.png" alt="Logo"/>
  </a></p>
  <h3><a href="../contents.html">目次</a></h3>
  <ul>
<li><a class="reference internal" href="#">スクリプト言語 (Python、Scilab、Matlab) とのインタフェース</a><ul>
<li><a class="reference internal" href="#description">説明</a></li>
<li><a class="reference internal" href="#files">ファイル</a></li>
<li><a class="reference internal" href="#objects-methods-and-functions-of-the-interface">インターフェイスのオブジェクト、メソッド、および関数</a></li>
<li><a class="reference internal" href="#adding-a-new-function-or-object-method-to-the-getfem-interface">getfem インターフェイスへの新しい関数またはオブジェクトメソッドの追加</a></li>
<li><a class="reference internal" href="#adding-a-new-object-to-the-getfem-interface">getfem インターフェイスへの新しいオブジェクトの追加</a></li>
<li><a class="reference internal" href="#state">状態</a></li>
<li><a class="reference internal" href="#perspectives">視点</a></li>
</ul>
</li>
</ul>

  <h4>前のトピックへ</h4>
  <p class="topless"><a href="libdesc_cont.html"
                        title="前の章へ">継続モジュール</a></p>
  <h4>次のトピックへ</h4>
  <p class="topless"><a href="appendixA.html"
                        title="次の章へ">付録A.参照要素と実要素の基本的な計算</a></p>            <h3>Download</h3>
            <p><a href="../download.html">Download GetFEM++ </a></p>
	    <h3>Main documentations</h3>
	    <ul>
              
	      <li><a href="../userdoc/index.html">GetFEM++ User documentation</a></li>
              <li><a href="../python/index.html">Python Interface</a></li>
	      <li><a href="../matlab/index.html">Matlab Interface</a></li>
	      <li><a href="../scilab/index.html">Scilab Interface</a></li>
	      <li><a href="../gmm/index.html"> Gmm++</a></li>
	      <li><a href="index.html"> GetFEM++ project</a></li>
            </ul>

            <h3>Other resources</h3>
            <ul>
              <li><a href="../screenshots/shots.html">Screenshots</a></li>
              <li><a href="../links.html">Related links</a></li>
	      <li><a href="https://savannah.nongnu.org/projects/getfem">Hosted by Savannah </a></li>
              
              
            </ul>
<div id="searchbox" style="display: none">
  <h3>クイック検索</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="検索" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    モジュール、クラス、または関数名を入力してください
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="総合索引"
             >索引</a></li>
        <li class="right" >
          <a href="appendixA.html" title="付録A.参照要素と実要素の基本的な計算"
             >次へ</a> |</li>
        <li class="right" >
          <a href="libdesc_cont.html" title="継続モジュール"
             >前へ</a> |</li>
        <li><a href="https://savannah.nongnu.org/projects/getfem" <img src="../static/icon.png" alt=""
                 style="vertical-align: middle; margin-top: -1px"/></li></a>
        <li><a href="../index.html">GetFEM++</a> &raquo;</li>

          <li><a href="index.html" >$B%W%m%8%&#8217;%/%H$N&#64;bL&#64;(B</a> &raquo;</li>
          <li><a href="libdesc.html" >ライブラリのさまざまな部分の説明</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy; <a href="../copyright.html">Copyright</a> 2004-2018 GetFEM++ project.
    </div>
  </body>
</html>
